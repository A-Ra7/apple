<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Яблоки в лесу</title>
</head>
<body>
<style>
    body {
        margin: 0;
        padding: 0;
        background: #333;
        font-family: Arial, Helvetica, sans-serif;
    }
    
    #gameContainer {
        width: 340px;
        margin: 70px auto;
    }

    .header {
        color: #f0f0f0;
        text-align: center;
    }
    
    #gameImage {
        border: 2px solid #fff;
        width: 100%;
    }
    
    .target {
        background-image: url(img/apple.png);
        background-size: cover;
        position: fixed;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        opacity: 0.7;
    }

    .target-x {
        background-image: url(img/apple.png);
        background-size: cover;
        position: fixed;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        opacity: 0.7;
    }
    
    #itemList {
        color: white;
        font-size: 20px;
        margin: 20px;
        text-align: center;
    }
    
    .found {
        text-decoration: line-through;
        color: #888;
        
    }
</style>


<div id="gameContainer">
    <h1 class="header">Найдите 3 яблока без червяка</h1>
    <img id="gameImage" src="img/bg.jpg" alt="Find objects in this image">
</div>

<div id="itemList"></div>

<script>
    const items = [
        { name: "Яблоко 1", x: -90, y: 360 },
        { name: "Яблоко 2", x: -20, y: 320 },
        { name: "Яблоко 3", x: 90, y: 360 }
    ];

    const itemX = [
        { name: "Банан", x: 20, y: 340 }
    ];
    
    const gameContainer = document.getElementById('gameContainer');
    const itemList = document.getElementById('itemList');
    
    // Create item list
    items.forEach(item => {
        // Create target area
        const target = document.createElement('div');
        target.className = 'target';
        target.style.left = '50%';
        target.style.transform = 'translateX(' + item.x + 'px)';
        target.style.top = item.y + 'px';
        gameContainer.appendChild(target);
        
        // Create list item
        const listItem = document.createElement('div');
        listItem.textContent = item.name;
        listItem.id = 'item-' + item.name.replace(/\s+/g, '-').toLowerCase();
        itemList.appendChild(listItem);
        
        target.addEventListener('click', () => {
            target.style.display = 'none';
            document.getElementById('item-' + item.name.replace(/\s+/g, '-').toLowerCase()).classList.add('found');
            
            // Check if all items found
            const foundItems = document.querySelectorAll('.found').length;
            if (foundItems === items.length) {
                alert('Поздравляем! Вы нашли все яблочки =)');
            }
        });
    });

        // Create item listX
        itemX.forEach(itemX => {
        // Create targetX area
        const targetX = document.createElement('div');
        targetX.className = 'target-x';
        targetX.style.left = '50%';
        targetX.style.transform = 'translateX(' + itemX.x + 'px)';
        targetX.style.top = itemX.y + 'px';
        gameContainer.appendChild(targetX);
        
        targetX.addEventListener('click', () => {
            targetX.style.display = 'none';
            alert('Вы нашли яблоко с червяком :O Попробуйте ещё раз!');
        });
    });

    // Show targets after image loads
    document.getElementById('gameImage').onload = () => {
        document.querySelectorAll('.target').forEach(target => {
        target.style.display = 'block';
    });

        document.querySelectorAll('.target-x').forEach(targetX => {
        targetX.style.display = 'block';
    });
};
</script>
</body>
</html>